<mat-toolbar>
  <span>Guess My Number</span>
</mat-toolbar>

<div class="container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Guess the secret number to win !</mat-card-title>
      <mat-card-subtitle>You have {{ game.remainingAttempt }} guesse(s) left</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div>
        @for (guess of game.guesses; track guess) {
          <div class="guess-entry">
            <p class="user-proposition">{{ guess.userGuess }}</p>
            <p>{{ guess.response }}</p>
          </div>
        }
      </div>
      
      @if (game.isGameOver) {
        <div class="game-over-actions">
          <button mat-raised-button color="primary" aria-label="restart" (click)="restartGame()">
            <mat-icon>restart_alt</mat-icon>
            <span>Restart</span>
          </button>
        </div>
      }

      <div>
        <form (ngSubmit)="$event.preventDefault(); submit(); false">
          <mat-form-field>
            <mat-label>Next guess</mat-label>
            <input type="number" matInput autofocus name="guess" aria-label="your guess" [(ngModel)]="input" [disabled]="game.isGameOver">
            <button matSuffix mat-icon-button color="primary" type="submit" aria-label="send" [disabled]="game.isGameOver">
              <mat-icon>send</mat-icon>
            </button>
          </mat-form-field>
        </form>
      </div>
    </mat-card-content>
  </mat-card>
</div>
